[toc]

## 04 | 强引用、软引用、弱引用、幻象引用有什么区别？

1.  问题：**强引用、软引用、弱引用、幻象引用有什么区别？具体使用场景是什么？**

### 典型回答

1.  主要体现：**对象不同的可达性（reachable）状态和对垃圾收集的影响**。
2.  强引用
    -   是什么？
        -   普通对象引用。
        -   只要还有强引用指向一个对象，就表明对象还“活着”。
    -   什么时候回收？
        -   超过作用域
        -   =null
3.  软引用
    -   是什么？
        -   会去避免 gc
        -   内存不足时，出现 oom 前，会将软引用回收
    -   场景
        -   缓存
        -   内存充足时，保留缓存。内存不足时，释放。
4.  弱引用
    -   有什么用
        -   解决内存泄露
5.  幻象引用/虚引用
    -   用于 Java 平台的 Cleaner 机制

### 考点分析

1.  属偏门又高频。

### 扩展

#### 对象可达性状态流转分析

1.  流程图
    -   ![img](imgs/36d3c7b158eda9421ef32463cb4d4fb0.png)



